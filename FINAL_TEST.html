<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ€ç»ˆæµ‹è¯• - DropShareæ‰€æœ‰è¯­è¨€</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 20px; max-width: 1000px; margin: 0 auto; }
        .status { background: #f0f8ff; padding: 15px; border-radius: 8px; margin: 20px 0; }
        .success { color: green; font-weight: bold; }
        .error { color: red; font-weight: bold; }
        .language-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 10px; margin: 20px 0; }
        .lang-btn { 
            padding: 12px; 
            border: 1px solid #ccc; 
            background: #f5f5f5; 
            cursor: pointer; 
            text-align: center; 
            border-radius: 8px; 
            transition: all 0.2s;
        }
        .lang-btn:hover { background: #e0e0e0; transform: translateY(-1px); }
        .lang-btn.active { background: #007bff; color: white; }
        .test-content { 
            background: #fff; 
            border: 2px solid #ddd; 
            padding: 20px; 
            border-radius: 10px; 
            margin: 20px 0;
        }
        h1, h2 { color: #333; }
        .highlight { background: yellow; padding: 2px 4px; border-radius: 3px; }
    </style>
</head>
<body>
    <h1>ğŸŒ DropShare æœ€ç»ˆè¯­è¨€æµ‹è¯•</h1>
    
    <div class="status" id="status">
        <h2>ç³»ç»ŸçŠ¶æ€</h2>
        <p id="system-status">æ£€æŸ¥ä¸­...</p>
    </div>

    <div class="test-content">
        <h2>ğŸ›ï¸ è¯­è¨€é€‰æ‹©å™¨ (å…±11ç§è¯­è¨€)</h2>
        <div class="language-grid" id="language-buttons"></div>
    </div>

    <div class="test-content">
        <h2>ğŸ“ å®æ—¶ç¿»è¯‘æµ‹è¯•</h2>
        <p><strong>ç½‘ç«™æ ‡é¢˜:</strong> <span class="highlight" data-i18n="hero_title">Fast Local File Sharing Across Devices on Your Network</span></p>
        <p><strong>å¼€å§‹æŒ‰é’®:</strong> <span class="highlight" data-i18n="btn_start_sharing">Start Sharing Files</span></p>
        <p><strong>å¯¼èˆª-ä¼ è¾“:</strong> <span class="highlight" data-i18n="nav_transfer">Transfer</span></p>
        <p><strong>å¯¼èˆª-å›¾ç‰‡:</strong> <span class="highlight" data-i18n="nav_images">Images</span></p>
        <p><strong>å¯¼èˆª-éŸ³é¢‘:</strong> <span class="highlight" data-i18n="nav_audio">Audio</span></p>
        <p><strong>å¯¼èˆª-è§†é¢‘:</strong> <span class="highlight" data-i18n="nav_video">Video</span></p>
        <p><strong>å…è´¹åŠŸèƒ½:</strong> <span class="highlight" data-i18n="feature_free_title">100% Free</span></p>
        <p><strong>å®‰å…¨åŠŸèƒ½:</strong> <span class="highlight" data-i18n="feature_secure_title">Secure & Private</span></p>
    </div>

    <!-- ä½¿ç”¨å®Œæ•´çš„åŸå§‹è¯­è¨€æ–‡ä»¶ -->
    <script src="scripts/i18n/languages.js"></script>
    <script>
        console.log('ğŸš€ å¼€å§‹æœ€ç»ˆæµ‹è¯•...');

        const languageNames = {
            'en': 'English',
            'zh': 'ä¸­æ–‡ç®€ä½“', 
            'zh-tw': 'ä¸­æ–‡ç¹é«”',
            'ja': 'æ—¥æœ¬èª',
            'fr': 'FranÃ§ais',
            'de': 'Deutsch',
            'es': 'EspaÃ±ol', 
            'pt': 'PortuguÃªs',
            'ru': 'Ğ ÑƒÑÑĞºĞ¸Ğ¹',
            'ar': 'Ø§Ù„Ø¹Ø±Ø¨ÙŠØ©',
            'ko': 'í•œêµ­ì–´'
        };

        function updateSystemStatus() {
            const statusEl = document.getElementById('system-status');
            let html = '';
            
            if (window.DROPSHARE_I18N) {
                html += '<p class="success">âœ… DROPSHARE_I18N ç³»ç»Ÿå·²åŠ è½½</p>';
                html += `<p>ğŸ“ å½“å‰è¯­è¨€: <strong>${window.DROPSHARE_I18N.getCurrentLanguage()}</strong></p>`;
                
                // æµ‹è¯•ç¿»è¯‘åŠŸèƒ½
                const testKey = 'hero_title';
                const translation = window.DROPSHARE_I18N.translate(testKey);
                html += `<p>ğŸ” ç¿»è¯‘æµ‹è¯•: "${testKey}" â†’ "${translation}"</p>`;
                
                if (translation && translation !== testKey) {
                    html += '<p class="success">âœ… ç¿»è¯‘ç³»ç»Ÿå·¥ä½œæ­£å¸¸</p>';
                } else {
                    html += '<p class="error">âŒ ç¿»è¯‘ç³»ç»Ÿå¼‚å¸¸</p>';
                }
            } else {
                html += '<p class="error">âŒ DROPSHARE_I18N æœªåŠ è½½</p>';
            }
            
            statusEl.innerHTML = html;
        }

        function createLanguageButtons() {
            const container = document.getElementById('language-buttons');
            
            Object.keys(languageNames).forEach(langCode => {
                const btn = document.createElement('div');
                btn.className = 'lang-btn';
                btn.textContent = `${languageNames[langCode]} (${langCode})`;
                btn.onclick = () => switchLanguage(langCode);
                btn.id = `lang-${langCode}`;
                container.appendChild(btn);
            });
        }

        function switchLanguage(langCode) {
            console.log(`ğŸ”„ åˆ‡æ¢è¯­è¨€åˆ°: ${langCode}`);
            
            if (window.DROPSHARE_I18N) {
                window.DROPSHARE_I18N.changeLanguage(langCode);
                updateActiveLanguage();
                updateSystemStatus();
                console.log(`âœ… è¯­è¨€å·²åˆ‡æ¢åˆ°: ${langCode}`);
            } else {
                console.error('âŒ DROPSHARE_I18N ä¸å¯ç”¨');
            }
        }

        function updateActiveLanguage() {
            // ç§»é™¤æ‰€æœ‰æ´»åŠ¨çŠ¶æ€
            document.querySelectorAll('.lang-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            
            // è®¾ç½®å½“å‰è¯­è¨€ä¸ºæ´»åŠ¨çŠ¶æ€
            if (window.DROPSHARE_I18N) {
                const currentLang = window.DROPSHARE_I18N.getCurrentLanguage();
                const activeBtn = document.getElementById(`lang-${currentLang}`);
                if (activeBtn) {
                    activeBtn.classList.add('active');
                }
            }
        }

        function init() {
            console.log('ğŸ”§ åˆå§‹åŒ–ç³»ç»Ÿ...');
            
            if (window.DROPSHARE_I18N) {
                console.log('âœ… DROPSHARE_I18N å·²å°±ç»ª');
                createLanguageButtons();
                updateSystemStatus();
                updateActiveLanguage();
                
                console.log('ğŸ‰ æ‰€æœ‰ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆï¼');
                console.log('ğŸ’¡ æç¤ºï¼šç‚¹å‡»è¯­è¨€æŒ‰é’®æµ‹è¯•åˆ‡æ¢åŠŸèƒ½');
            } else {
                console.log('â³ ç­‰å¾… DROPSHARE_I18N åŠ è½½...');
                setTimeout(init, 100);
            }
        }

        // å¼€å§‹åˆå§‹åŒ–
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    </script>
</body>
</html>