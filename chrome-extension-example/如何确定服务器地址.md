# å¦‚ä½•ç¡®å®šä½ çš„DropShareæœåŠ¡å™¨åœ°å€

## ğŸ¯ æ–¹æ³•1: æŸ¥çœ‹ä½ çš„ç½‘ç«™åœ°å€ï¼ˆæœ€ç®€å•ï¼‰

### æ­¥éª¤ï¼š
1. **æ‰“å¼€ä½ çš„DropShareç½‘ç«™**
   - åœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ä½ çš„DropShareç½‘ç«™
   - æŸ¥çœ‹åœ°å€æ ä¸­çš„URL

2. **ç¡®å®šåè®®å’ŒåŸŸå**
   - å¦‚æœåœ°å€æ˜¯ `https://your-domain.com` â†’ ä½¿ç”¨ `wss://your-domain.com/server/webrtc`
   - å¦‚æœåœ°å€æ˜¯ `http://your-domain.com:8080` â†’ ä½¿ç”¨ `ws://your-domain.com:8080/server/webrtc`

3. **åœ¨æ‰©å±•ä¸­é…ç½®**
   - æ‰“å¼€æ‰©å±•è®¾ç½®
   - è¾“å…¥å®Œæ•´çš„WebSocketåœ°å€

### ç¤ºä¾‹ï¼š
- ç½‘ç«™åœ°å€ï¼š`https://dropshare.tech`
- WebSocketåœ°å€ï¼š`wss://dropshare.tech/server/webrtc`

- ç½‘ç«™åœ°å€ï¼š`http://192.168.1.100:8080`
- WebSocketåœ°å€ï¼š`ws://192.168.1.100:8080/server/webrtc`

## ğŸ” æ–¹æ³•2: é€šè¿‡æµè§ˆå™¨å¼€å‘è€…å·¥å…·æ£€æµ‹

### æ­¥éª¤ï¼š
1. **æ‰“å¼€ä½ çš„DropShareç½‘ç«™**
2. **æ‰“å¼€å¼€å‘è€…å·¥å…·** (F12)
3. **åˆ‡æ¢åˆ°Networkæ ‡ç­¾é¡µ**
4. **è¿‡æ»¤WebSocketè¿æ¥**
   - åœ¨è¿‡æ»¤æ¡†ä¸­è¾“å…¥ `ws` æˆ– `wss`
5. **æŸ¥çœ‹WebSocketè¿æ¥**
   - æ‰¾åˆ°è¿æ¥åˆ°æœåŠ¡å™¨çš„WebSocketè¯·æ±‚
   - æŸ¥çœ‹è¯·æ±‚çš„URLï¼Œè¿™å°±æ˜¯ä½ çš„æœåŠ¡å™¨åœ°å€

### ç¤ºä¾‹ï¼š
å¦‚æœçœ‹åˆ°WebSocketè¿æ¥æ˜¯ï¼š
```
wss://dropshare.tech/server/webrtc
```
é‚£ä¹ˆè¿™å°±æ˜¯ä½ éœ€è¦é…ç½®çš„åœ°å€ã€‚

## ğŸ’» æ–¹æ³•3: æŸ¥çœ‹æœåŠ¡å™¨é…ç½®

### å¦‚æœä½ æœ‰æœåŠ¡å™¨è®¿é—®æƒé™ï¼š

1. **æŸ¥çœ‹ç¯å¢ƒå˜é‡**
   ```bash
   # æŸ¥çœ‹.envæ–‡ä»¶
   cat .env
   # æˆ–
   cat env.template
   ```

2. **æŸ¥çœ‹docker-compose.yml**
   ```bash
   cat docker-compose.yml
   # æŸ¥æ‰¾ PRIMARY_DOMAIN æˆ–åŸŸåé…ç½®
   ```

3. **æŸ¥çœ‹æœåŠ¡å™¨æ—¥å¿—**
   ```bash
   # æŸ¥çœ‹æœåŠ¡å™¨å¯åŠ¨æ—¥å¿—
   # é€šå¸¸ä¼šæ˜¾ç¤ºæœåŠ¡å™¨åœ°å€å’Œç«¯å£
   ```

## ğŸŒ æ–¹æ³•4: æµ‹è¯•è¿æ¥

### ä½¿ç”¨æµè§ˆå™¨æ§åˆ¶å°æµ‹è¯•ï¼š

1. **æ‰“å¼€ä½ çš„DropShareç½‘ç«™**
2. **æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°** (F12)
3. **è¿è¡Œä»¥ä¸‹ä»£ç **ï¼š
   ```javascript
   // æ£€æµ‹å½“å‰ç½‘ç«™çš„WebSocketåœ°å€
   const protocol = location.protocol.startsWith('https') ? 'wss' : 'ws';
   const host = location.host;
   const wsUrl = `${protocol}://${host}/server/webrtc`;
   console.log('WebSocketåœ°å€:', wsUrl);
   ```

4. **å¤åˆ¶è¾“å‡ºçš„åœ°å€**
   - è¿™å°±æ˜¯ä½ éœ€è¦é…ç½®çš„æœåŠ¡å™¨åœ°å€

## ğŸ“‹ æ–¹æ³•5: å¸¸è§æœåŠ¡å™¨é…ç½®

### å¦‚æœä½ ä½¿ç”¨å¸¸è§çš„éƒ¨ç½²å¹³å°ï¼š

#### Render.com
- åŸŸåæ ¼å¼ï¼š`https://your-app.onrender.com`
- WebSocketåœ°å€ï¼š`wss://your-app.onrender.com/server/webrtc`

#### Heroku
- åŸŸåæ ¼å¼ï¼š`https://your-app.herokuapp.com`
- WebSocketåœ°å€ï¼š`wss://your-app.herokuapp.com/server/webrtc`

#### Vercel
- åŸŸåæ ¼å¼ï¼š`https://your-app.vercel.app`
- WebSocketåœ°å€ï¼š`wss://your-app.vercel.app/server/webrtc`

#### è‡ªå®šä¹‰åŸŸå
- åŸŸåæ ¼å¼ï¼š`https://your-domain.com`
- WebSocketåœ°å€ï¼š`wss://your-domain.com/server/webrtc`

## ğŸ”§ æ–¹æ³•6: æŸ¥çœ‹é¡¹ç›®é…ç½®æ–‡ä»¶

æŸ¥çœ‹é¡¹ç›®ä¸­çš„é…ç½®æ–‡ä»¶ï¼š

1. **docker-compose.yml**
   ```yaml
   environment:
     - PRIMARY_DOMAIN=dropshare.tech
   ```

2. **env.template**
   ```
   PRIMARY_DOMAIN=dropshare.tech
   ```

3. **.envæ–‡ä»¶**ï¼ˆå¦‚æœå­˜åœ¨ï¼‰
   ```
   PRIMARY_DOMAIN=your-domain.com
   ```

## âœ… éªŒè¯æœåŠ¡å™¨åœ°å€

é…ç½®æœåŠ¡å™¨åœ°å€åï¼ŒéªŒè¯æ–¹æ³•ï¼š

1. **æ‰“å¼€æ‰©å±•**
2. **æŸ¥çœ‹çŠ¶æ€æ **
   - å¦‚æœæ˜¾ç¤º"å·²è¿æ¥åˆ°æœåŠ¡å™¨"ï¼ˆç»¿è‰²ï¼‰â†’ åœ°å€æ­£ç¡® âœ…
   - å¦‚æœæ˜¾ç¤º"ä¸æœåŠ¡å™¨æ–­å¼€è¿æ¥"ï¼ˆçº¢è‰²ï¼‰â†’ åœ°å€å¯èƒ½é”™è¯¯ âŒ

3. **æŸ¥çœ‹Service Workeræ—¥å¿—**
   - æ‰“å¼€ `chrome://extensions/`
   - æ‰¾åˆ°DropShareæ‰©å±•
   - ç‚¹å‡»"service worker"
   - æŸ¥çœ‹Consoleä¸­çš„è¿æ¥æ—¥å¿—

## ğŸ†˜ å¦‚æœè¿˜æ˜¯ä¸ç¡®å®š

### å°è¯•ä»¥ä¸‹æ–¹æ³•ï¼š

1. **è”ç³»æœåŠ¡å™¨ç®¡ç†å‘˜**
   - è¯¢é—®æœåŠ¡å™¨çš„WebSocketåœ°å€

2. **æŸ¥çœ‹æœåŠ¡å™¨æ–‡æ¡£**
   - æŸ¥çœ‹éƒ¨ç½²æ–‡æ¡£
   - æŸ¥çœ‹æœåŠ¡å™¨é…ç½®è¯´æ˜

3. **æµ‹è¯•ä¸åŒçš„åœ°å€æ ¼å¼**
   - å°è¯• `wss://your-domain.com/server/webrtc`
   - å°è¯• `ws://your-domain.com:8080/server/webrtc`
   - å°è¯• `wss://your-domain.com:443/server/webrtc`

4. **ä½¿ç”¨æµè§ˆå™¨æ§åˆ¶å°æ£€æµ‹**
   - åœ¨DropShareç½‘ç«™ä¸Šæ‰“å¼€æ§åˆ¶å°
   - è¿è¡Œæ£€æµ‹ä»£ç ï¼ˆè§æ–¹æ³•4ï¼‰

## ğŸ’¡ å¿«é€Ÿæ£€æµ‹è„šæœ¬

åœ¨ä½ çš„DropShareç½‘ç«™ä¸Šï¼Œæ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼Œè¿è¡Œï¼š

```javascript
// è‡ªåŠ¨æ£€æµ‹WebSocketåœ°å€
(function() {
  const protocol = location.protocol.startsWith('https') ? 'wss' : 'ws';
  const host = location.host;
  const wsUrl = `${protocol}://${host}/server/webrtc`;
  
  console.log('='.repeat(50));
  console.log('ğŸŒ ä½ çš„DropShareæœåŠ¡å™¨WebSocketåœ°å€:');
  console.log(wsUrl);
  console.log('='.repeat(50));
  console.log('ğŸ“‹ è¯·åœ¨æ‰©å±•è®¾ç½®ä¸­ä½¿ç”¨è¿™ä¸ªåœ°å€');
  
  // æµ‹è¯•è¿æ¥
  try {
    const testWs = new WebSocket(wsUrl);
    testWs.onopen = () => {
      console.log('âœ… WebSocketè¿æ¥æµ‹è¯•æˆåŠŸï¼');
      testWs.close();
    };
    testWs.onerror = (error) => {
      console.log('âŒ WebSocketè¿æ¥æµ‹è¯•å¤±è´¥:', error);
    };
  } catch (error) {
    console.log('âŒ æ— æ³•åˆ›å»ºWebSocketè¿æ¥:', error);
  }
})();
```

è¿è¡Œè¿™ä¸ªè„šæœ¬åï¼Œæ§åˆ¶å°ä¼šæ˜¾ç¤ºä½ çš„æœåŠ¡å™¨WebSocketåœ°å€ã€‚

## ğŸ“ æ€»ç»“

**æœ€ç®€å•çš„æ–¹æ³•ï¼š**
1. æ‰“å¼€ä½ çš„DropShareç½‘ç«™
2. æŸ¥çœ‹åœ°å€æ ä¸­çš„URL
3. å°† `http://` æ”¹ä¸º `ws://` æˆ– `https://` æ”¹ä¸º `wss://`
4. åœ¨æœ«å°¾æ·»åŠ  `/server/webrtc`
5. åœ¨æ‰©å±•è®¾ç½®ä¸­é…ç½®è¿™ä¸ªåœ°å€

**ç¤ºä¾‹è½¬æ¢ï¼š**
- `https://dropshare.tech` â†’ `wss://dropshare.tech/server/webrtc`
- `http://localhost:8080` â†’ `ws://localhost:8080/server/webrtc`
- `https://your-app.onrender.com` â†’ `wss://your-app.onrender.com/server/webrtc`


